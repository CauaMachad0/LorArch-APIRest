<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ocorrência</title>
</head>
<body>
<h1>Ocorrência</h1>

<form th:object="${ocorrencia}" th:action="@{${action}}" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

    <div>
        <label>Tipo</label><br>
        <select th:field="*{tipo}">
            <option value="">-- selecione --</option>
            <option value="Entrada">Entrada</option>
            <option value="Saida">Saída</option>
            <option value="Manutencao">Manutenção</option>
            <option value="Diagnostico">Diagnóstico</option>
        </select>
        <div th:if="${#fields.hasErrors('tipo')}" th:errors="*{tipo}" style="color:red;"></div>
    </div>

    <div>
        <label>Descrição</label><br>
        <textarea th:field="*{descricao}" rows="3" cols="40"></textarea>
        <div th:if="${#fields.hasErrors('descricao')}" th:errors="*{descricao}" style="color:red;"></div>
    </div>

    <div>
        <label>Data</label><br>
        <input type="date" th:field="*{data}">
        <div th:if="${#fields.hasErrors('data')}" th:errors="*{data}" style="color:red;"></div>
    </div>

    <div>
        <label>Custo</label><br>
        <input type="number" step="0.01" min="0" th:field="*{custo}">
        <div th:if="${#fields.hasErrors('custo')}" th:errors="*{custo}" style="color:red;"></div>
    </div>

    <div>
        <label>Moto</label><br>
        <select th:field="*{motoId}">
            <option value="">-- selecione --</option>
            <option th:each="m : ${motos}" th:value="${m.id}" th:text="${m.placa}">ABC1D23</option>
        </select>
        <div th:if="${#fields.hasErrors('motoId')}" th:errors="*{motoId}" style="color:red;"></div>
    </div>

    <div>
        <label>Setor</label><br>
        <select th:field="*{setorId}">
            <option value="">-- selecione --</option>
            <option th:each="s : ${setores}" th:value="${s.id}" th:text="${s.nome}">Operações</option>
        </select>
        <div th:if="${#fields.hasErrors('setorId')}" th:errors="*{setorId}" style="color:red;"></div>
    </div>

    <div style="margin-top:10px;">
        <button type="submit">Salvar</button>
        <a th:href="@{/ocorrencias}">Cancelar</a>
    </div>
</form>
</body>
</html>
